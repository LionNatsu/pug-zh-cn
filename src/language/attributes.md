---
title: 属性
template: language
id: language/attributes
---

# 属性

标签属性和 HTML 语法非常相似，但是它们的值就是普通 JS 表达式。您可以用逗号作为属性分隔符，不过不加逗号也是允许的。

```pug-preview
a(href='baidu.com') 百度
= '\n'
a(class='button' href='baidu.com') 百度
= '\n'
a(class='button', href='baidu.com') 百度
```

所有 JS 表达式都能用：

```pug-preview
//- 已登录
- var authenticated = true
body(class=authenticated ? 'authed' : 'anon')
```

## 多行属性

如果您有很多属性，您可以把它们分几行写：

```pug-preview
input(
  type='checkbox'
  name='agreement'
  checked
)
```

如果您有一个很长属性，并且您的 JS 运行时引擎支持 ES2015 [模板字符串]（包括 Node.js 和 io.js v1.0.0 和更新的版本），您可以使用它来写属性值：

```pug-preview (features=['templatestrings'])
input(data-json=`
  {
    "非常": "长的",
    "数据": true
  }
`)
```

## Quoted Attributes

If your attribute name contains odd characters that might interfere with JavaScript syntax, either quote it using `""` or `''`, or use commas to separate different attributes. Examples of such characters include `[]` and `()`, which are frequently used in Angular 2.

```pug-preview
//- In this case, `(click)` is treated as a
//- function call instead of a attribute name,
//- resulting in the unusual error.
div(class='div-class' (click)='play()')
```

```pug-preview
div(class='div-class', (click)='play()')
div(class='div-class' '(click)'='play()')
```

## Attribute Interpolation

::: float danger Caution
Previous versions of Pug/Jade supported an interpolation syntax such as:

```pug
a(href="/#{url}") Link
```

This syntax is **no longer supported.** Alternatives could be found below. Check our [migration guide] for more information on other incompatibilities between Pug v2 and previous versions.
:::

If you would like to include variables in your attribute, you can do one of the following:

1. Simply write the attribute in JavaScript:

   ```pug-preview
   - var url = 'pug-test.html';
   a(href='/' + url) Link

   = '\n'

   - url = 'https://example.com/'
   a(href=url) Another link
   ```

2. If your JavaScript runtime supports ES2015 [template strings] (including Node.js/io.js 1.0.0 and later), you can also utilize that syntax to simplify your attributes:

   ```pug-preview (features=['templatestrings'])
   - var btnType = 'info'
   - var btnSize = 'lg'
   button(type='button' class='btn btn-' + btnType + ' btn-' + btnSize)
   = '\n'
   button(type='button' class=`btn btn-${btnType} btn-${btnSize}`)
   ```

## Unescaped Attributes

By default, all attributes are escaped (replacing special characters with escape sequences) to prevent attacks such as cross site scripting.  If you need to use special characters you can use `!=` instead of `=`.

```pug-preview
div(escaped="<code>")
div(unescaped!="<code>")
```

::: float danger Caution
Unescaped buffered code can be dangerous. You must be sure to sanitize any user inputs to avoid [cross-site scripting].
:::

## Boolean Attributes

Boolean attributes are mirrored by Pug, and boolean values (`true` and `false`) are accepted. When no value is specified `true` is assumed.

```pug-preview
input(type='checkbox' checked)
= '\n'
input(type='checkbox' checked=true)
= '\n'
input(type='checkbox' checked=false)
= '\n'
input(type='checkbox' checked=true.toString())
```

If the doctype is `html` Pug knows not to mirror the attribute and uses the terse style (understood by all browsers).

```pug-preview
doctype html
= '\n'
input(type='checkbox' checked)
= '\n'
input(type='checkbox' checked=true)
= '\n'
input(type='checkbox' checked=false)
= '\n'
input(type='checkbox' checked=true && 'checked')
```

## Style Attributes

The `style` attribute can be a string (like any normal attribute) but it can also be an object, which is handy when parts of the style are generated by JavaScript.


```pug-preview
a(style={color: 'red', background: 'green'})
```

## Class Attributes

The `class` attribute can be a string (like any normal attribute) but it can also be an array of class names, which is handy when generated from JavaScript.

```pug-preview
- var classes = ['foo', 'bar', 'baz']
a(class=classes)
= '\n'
//- the class attribute may also be repeated to merge arrays
a.bang(class=classes class=['bing'])
```

It can also be an object mapping class names to true or false values, which is useful for applying conditional classes

```pug-preview
- var currentUrl = '/about'
a(class={active: currentUrl === '/'} href='/') Home
= '\n'
a(class={active: currentUrl === '/about'} href='/about') About
```

## Class Literal

Classes may be defined using a `.classname` syntax:

```pug-preview
a.button
```

Since `div`'s are such a common choice of tag, it is the default if you omit the tag name:

```pug-preview
.content
```

## ID Literal

IDs may be defined using a `#idname` syntax:

```pug-preview
a#main-link
```

Since `div`'s are such a common choice of tag, it is the default if you omit the tag name:

```pug-preview
#content
```

## &attributes

Pronounced as "and attributes", the `&attributes` syntax can be used to explode an object into attributes of an element.

```pug-preview
div#foo(data-bar="foo")&attributes({'data-foo': 'bar'})
```

The object does not have to be an object literal. It can also just be a variable that has an object as its value (see also [Mixin Attributes]).

```pug-preview
- var attributes = {};
- attributes.class = 'baz';
div#foo(data-bar="foo")&attributes(attributes)
```

::: float danger Caution
Attributes applied using `&attributes` are not automatically escaped. You must be sure to sanitize any user inputs to avoid [cross-site scripting] (XSS). This is done for you if you are passing in `attributes` from a mixin call.
:::

[模板字符串]: https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Template_strings
[mixin attributes]: mixins.html#mixin-attributes
[cross-site scripting]: https://en.wikipedia.org/wiki/Cross-site_scripting
[migration guide]: ../api/migration-v2.html
